"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require("fs");
/**
 * Moves the file from one location to another
 * @param   {string}    src     Source path
 * @param   {string}    dest    Destination path
 * @return  {Promise}
 * */
function mv(src, dest) {
    return new Promise((rsv, rr) => {
        const srcStream = fs.createReadStream(src);
        const destStream = fs.createWriteStream(dest);
        srcStream.pipe(destStream);
        srcStream.on('error', (err) => rr(err));
        srcStream.on('end', () => {
            fs.unlink(src);
            rsv(dest);
        });
    });
}
exports.mv = mv;
/**
 * Will remove a file
 * @param   {string}    src     Source Folder
 * */
function rm(src) {
    return new Promise((rsv, rr) => {
        fs.unlink(src, (err) => {
            if (err) {
                return rr(err);
            }
            rsv(src);
        });
    });
}
exports.rm = rm;
/**
 * Lists items in a directory
 * @param   {string}    dir     Directory
 * @return  {Promise}   List of all files
 * */
function ls(dir) {
    return new Promise((rsv, rr) => {
        fs.readdir(dir, (err, items) => {
            if (err) {
                return rr(err);
            }
            rsv(items);
        });
    });
}
exports.ls = ls;
